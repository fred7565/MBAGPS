# Automated SEO Blog Generation and Publishing with LLMsğŸš€

Build an endâ€‘toâ€‘end, productionâ€‘grade pipeline that turns keywords into fully formatted, SEOâ€‘optimized blog posts â€” generated by an LLM, orchestrated by n8n, persisted in PostgreSQL, and published to WordPress. Designed for reliability, observability, and scale. âœ¨

---

### At a Glance

- **Core Stack**: n8n â€¢ PostgreSQL â€¢ WordPress REST API â€¢ Python â€¢ Groq LLM
- **Outputs**: Markdown/HTML articles, optional images, WordPress posts
- **Persistence**: Keywords and topics stored in Postgres (see `sql/schema.sql`)
- **Ops**: Oneâ€‘command Docker Compose spinâ€‘up ğŸ³

---

### Why this project?

- **Automated content engine**: from idea âœ keyword âœ outline âœ longâ€‘form draft âœ publish.
- **Deterministic orchestration**: n8n manages retries, branches, and credentials.
- **Portable workflow**: sanitized n8n export (`workflow/Marketing_GP.sanitized.json`) with secrets removed.
- **Operable by default**: ships with Postgres, volumes for content/images, and import tools.

---

### Key flows

- **Keyword intake**: import from CSV to `keywords` table (`scripts/import_keywords.py`).
- **Topic generation**: n8n reads keywords, prompts LLM for titles/outlines.
- **Drafting & enrichment**: schema/meta, structure checks, optional image references.
- **Publishing**: WordPress REST API; final summaries can be pushed to Telegram.

---

### Features âœ…

- **LLMâ€‘assisted drafting** (Groq LLaMA) ğŸ§ 
- **Outline enforcement & deduplication** ğŸ§©
- **PostgreSQL persistence** for keywords/topics ğŸ“¦
- **Oneâ€‘click publish to WordPress** via REST ğŸŒ
- **Extensible**: add steps for images, internal linking, QA ğŸ”Œ

---

### Repository Structure

```
.
â”œâ”€ docker-compose.yml           # Postgres + n8n, with content/image volumes
â”œâ”€ Dockerfile                   # (optional) customizations for runtime
â”œâ”€ workflow/
â”‚  â””â”€ Marketing_GP.sanitized.json
â”œâ”€ sql/
â”‚  â””â”€ schema.sql                # tables: keywords, topics
â”œâ”€ scripts/
â”‚  â””â”€ import_keywords.py        # CSV â†’ Postgres importer
â”œâ”€ keywords/
â”‚  â””â”€ PaintingKeywords.csv      # sample data
â””â”€ n8n/
   â””â”€ config                    # local n8n config (no real secrets)
```

---

### Quick Start (Docker) âš¡

1) Start services

```bash
docker compose up -d
```

This launches:
- `postgres:15` with database `mbagps` and user `n8n`.
- `n8nio/n8n` on `http://localhost:5678` with basic auth (default: `admin` / `adminpass`).

2) Initialize database schema

```bash
docker exec -i $(docker ps -qf name=postgres) psql -U n8n -d mbagps < sql/schema.sql
```

3) Import keywords (optional)

```bash
pip install psycopg2-binary
python3 scripts/import_keywords.py
```

4) Open n8n and import the workflow

```text
http://localhost:5678
```

- In the topâ€‘right menu, choose â€œImport workflowâ€ and select `workflow/Marketing_GP.sanitized.json`.
- Reâ€‘map credentials inside n8n (Postgres, Groq LLM, WordPress, Telegram if used).

5) Run a test

- Trigger the workflow manually from the Start node.
- Verify outputs, WordPress draft/publish, and any Telegram notifications.

---

### Configuration Notes ğŸ”§

- The Compose file already wires n8n â†’ Postgres via service name `postgres`.
- Content and media directories are mounted:
  - Articles: `./blogs` â†’ available at `/data/blogs` inside n8n
  - Images: `./images` â†’ available at `/data/images` inside n8n
- Default n8n basic auth is enabled via env in `docker-compose.yml`. Change these for production.

Optional environment variables you may set in Compose or your shell:

```bash
export GROQ_API_KEY=...            # LLM generation
export WP_BASE_URL=...             # e.g. https://your-site.example
export WP_USERNAME=...
export WP_APPLICATION_PASSWORD=...
export TELEGRAM_BOT_TOKEN=...
export TELEGRAM_CHAT_ID=...
```

Inside the workflow, these are referenced via n8n credentials and node fields.

---

### Security & Operations ğŸ”

- Never commit real API keys or `.env` files. This repoâ€™s workflow is sanitized.
- Rotate any secrets that were ever exposed; use n8n credential store for runtime secrets.
- Set a strong `N8N_BASIC_AUTH_USER/PASSWORD` and consider `N8N_ENCRYPTION_KEY` for encryption.
- Place the stack behind HTTPS and a reverse proxy if exposed to the Internet.

---

### Troubleshooting ğŸ› ï¸

- â€œUndefined credentialsâ€ in n8n: reâ€‘create credentials and reâ€‘link nodes after import.
- LLM rate limits: add Wait/Delay nodes between calls.
- WordPress 401/403: verify Application Passwords and user roles; check base URL.
- Postgres connectivity: ensure n8n uses host `postgres` and DB `mbagps` (see Compose).
- Images not loading: confirm your hosting path or update image generation/storage steps.

---

### Roadmap ğŸ—ºï¸

- Test suite for workflow regression
- Advanced retry/backoff strategies
- Optional selfâ€‘hosted LLM compatibility
- Content quality gates and internal linking

---

### License

Shared for academic and demonstration purposes. Use responsibly and follow all provider terms.
     
